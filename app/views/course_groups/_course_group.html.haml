%li.one-whole.course-element{data: {"structure-id" => course_group.structure_id}}
  %div.two-twelfths
    .course-image.media__img
      %img{src: 'http://www.placehold.it/100'}
      - if course_group.has_promotion
        .course-promo.price-badge= readable_promotion course_group.promotion

  %article.course-content
    %header
      %h4.hN.course-title
        %span= link_to course_group.name, course_path(course_group)
        %span.lbl.milli= course_group.type_name

    - if course_group.is_training?
      %p
        Stage de
        = pluralize course_group.length, 'jour'
    %ul.nav
      %li= join_audiences(course_group)
      %li -
      %li= join_levels(course_group)
    %p
      %i.icon-map-marker
      - if course_group.structure.name.length > 50
        %strong= "#{course_group.structure.name[0..50]}..."
      - else
        %strong= course_group.structure.name
      - if course_group.structure.zip_code == 75000
        Paris
      - else
        = "- Paris&nbsp;#{course_group.structure.zip_code[3..4]}".html_safe
    = join_week_days(course_group)                        if course_group.is_lesson?
    - if course_group.is_training?
      = training_dates(course_group.courses.first.planning)
      - if course_group.courses.length > 1
        = "et #{course_group.courses.length - 1} autres dates."
    - unless course_group.discipline.blank?
      = link_to course_group.discipline.name, course_groups_with_old_params_path({city: params[:city], discipline: u(course_group.discipline.name)}), class: 'lbl lbl--orange'

  %div.course-price.two-twelfths
    - if course_group.best_price.nil?
      %p.epsilon= link_to "Contacter l'établissement", course_path(course_group)
    - else
      %p
        = t('.from')
      %p.gamma= "#{course_group.best_price.amount}&nbsp;€".html_safe
      %p= "(#{t(course_group.best_price.libelle).downcase})".html_safe

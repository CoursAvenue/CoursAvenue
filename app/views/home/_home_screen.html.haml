- painter_course = CourseGroup.where{name.like 'peinture'}.first
- mime_course    = CourseGroup.where{name.like 'comédie'}.first
.home-screen
  %h1.text-center.home-screen-title
    Réservez le bon cours, au meilleur prix !
  %h5.text-center.home-screen-subtitle
    = "Parmi #{Discipline.count} disciplines et #{Planning.count} séances, pour tous les âges"
  = render 'shared/home_page_search_form'
  %ul.slideshow-controller
    %li.active
    %li
  %ul#slideshow.slideshow.home-slideshow
    // ---------------------------------------------- Painter course
    %li
      = render 'slideshow_course_info', course: painter_course
      = image_tag asset_path('home-page/painter.jpg')
    // ---------------------------------------------- Mime course
    %li
      = render 'slideshow_course_info', course: mime_course
      = image_tag asset_path('home-page/mime.jpg')


= content_for :scripts do
  :javascript
    var slideshow;
    window.addEvent('domready', function() {
        var slideshow_navs = $$('.slideshow-controller li');
        slideshow = new SlideShow('slideshow', {
            transition: 'crossFade',
            delay: 5000,
            duration: 500,
            autoplay: true
        });
        slideshow.addEvent('show', function(event) {
            slideshow_navs.removeClass('active');
            slideshow_navs[event.next.index].addClass('active');
        });
        slideshow_navs.each(function(item, index){
            item.addEvent('click', function(event){
                event.stop();
                slideshow_navs.removeClass('active');
                item.addClass('active');
                slideshow.show(index);
            });
        });
    });

- params[:sort]                ||= 'relevancy'
- params[:zip_codes]           ||= [] # (75001..75020).to_a.map(&:to_s)
- params[:radius]              ||= 10
%section.gw
  = form_tag places_path, method: :get, authenticity_token: false, class: 'g one-whole', id: 'header-search' do
    .header-search-bar
      %div.search-input-wrapper
        %input#search-input{class: 'search-input', placeholder: 'Que voulez-vous faire ?', type: 'search', name: 'name', value: params[:name], autofocus: true, list: 'subject-list', autocomplete: 'off'}
      %div.search-input-wrapper
        .input-with-icon
          %input#location-input{class: 'search-input', placeholder: 'Quelle ville ?', type: 'text', name: 'city', value: @city.try(:name), list: 'location-list', 'data-slug' => @city.try(:slug), autocomplete: 'off'}
          %i.icon-map-marker.delta
        %datalist#location-list
          <!--[if IE 9]><select disabled></select><![endif]-->

      %div.button-wrapper
        %button.btn.btn__primary{type: 'submit', id: 'submit_search_form'}
          %i.icon-search
          Rechercher
    .accessibility
      %input#hidden-sort-input{type: 'hidden', name: 'sort', value: params[:sort]}
      %input#radius-hidden-input{type: 'hidden', name: 'radius', value: params[:radius]}

= side_menu_currently_at 'Super Dashboard'

%h1.header-group
  %i.icon-dashboard
  Tableau de bord

.grid.push--top
  .grid__item.one-half>
    %h3.header-group
      %i.icon-map-marker
      Profésseurs enregistrés
    .white-box.islet.text--center
      .gamma
        = Admin.normal.count
        Profs
      #admins
  .grid__item.one-half>
    %h3.header-group
      %i.icon-comments
      Avis et recommandations

    .white-box.islet.text--center
      .gamma
        = Comment.count
        avis
      #comments

.grid.push--top
  .grid__item.one-half>
    %h3.header-group
      %i.icon-list
      Cours et stages en ligne
    .white-box.islet.text--center
      .gamma
        = Course.active.count
        cours en ligne
      #courses
  .grid__item.one-half>
    %h3.header-group
      %i.icon-youtube-play
      Photos & Vidéos
    .white-box.islet.text--center
      .gamma
        = Media.count
        Médias
      #medias

.grid.push--top
  .grid__item.one-half>
    %h3.header-group
      %i.icon-group
      Élèves notifiés pour commentaires
    .white-box.islet.text--center
      .gamma
        = Student.count
        élèves
      #students
  .grid__item.one-half>
    %h3.header-group
      %i.icon-group
      Users
    .white-box.islet.text--center
      .gamma
        = User.count
        users
      #users

.grid.push--top
  .grid__item.one-half>
    %h3.header-group
      %i.icon-map-marker
      Lieux d'enseignements
    .white-box.islet.text--center
      .gamma
        = Place.count
        Lieux

= content_for :scripts do
  :javascript
    window.addEvent('domready', function() {
        new Highcharts.Chart({
            chart: { renderTo: 'admins' },
            title: { text: null },
            xAxis: { categories: #{@admins.map{|date, count| l(Date.parse(date), format: :short)}} },
            yAxis: { title: { text: ''}},
            series: [{ data: #{@admins.map{|date, count| count}} }]
        });
        new Highcharts.Chart({
            chart: { renderTo: 'comments' },
            title: { text: null },
            xAxis: { categories: #{@comments.map{|date, count| l(Date.parse(date), format: :short)}} },
            yAxis: { title: { text: ''}},
            series: [{ data: #{@comments.map{|date, count| count}} }]
        });
        new Highcharts.Chart({
            chart: { renderTo: 'users' },
            title: { text: null },
            xAxis: { categories: #{@users.map{|date, count| l(Date.parse(date), format: :short)}} },
            yAxis: { title: { text: ''}},
            series: [{ data: #{@users.map{|date, count| count}} }]
        });
        new Highcharts.Chart({
            chart: { renderTo: 'students' },
            title: { text: null },
            xAxis: { categories: #{@students.map{|date, count| l(Date.parse(date), format: :short)}} },
            yAxis: { title: { text: ''}},
            series: [{ data: #{@students.map{|date, count| count}} }]
        });
        new Highcharts.Chart({
            chart: { renderTo: 'medias' },
            title: { text: null },
            xAxis: { categories: #{@medias.map{|date, count| l(Date.parse(date), format: :short)}} },
            yAxis: { title: { text: ''}},
            series: [{ data: #{@medias.map{|date, count| count}} }]
        });
        new Highcharts.Chart({
            chart: { renderTo: 'courses' },
            title: { text: null },
            xAxis: { categories: #{@courses.map{|date, count| l(Date.parse(date), format: :short)}} },
            yAxis: { title: { text: ''}},
            series: [{ data: #{@courses.map{|date, count| count}} }]
        });
    });

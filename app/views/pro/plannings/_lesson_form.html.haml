= simple_form_for [:pro, @course, @planning] do |f|
  = f.error_notification
  .input
    %label.required.control-label Jour
    - days = t('date.day_names').collect{|day| [day.capitalize, t('date.day_names').index(day)] }.rotate
    = f.input :week_day, as: :select, collection: days, label: false
  .input.flush--bottom{data: {behavior: 'time-range', 'start-time-wrapper' => '#start-time-wrapper', 'end-time-wrapper' => '#end-time-wrapper'}}
    = f.input :start_time, as: :time, minute_step: 15, label: '<i class="icon-time"></i>&nbsp;Horaire', default: {year: 2000, month: 1, day: 1, hour: 8, min: 00}, wrapper_html: {id: 'start-time-wrapper'}
    %label &nbsp;-&nbsp;
    = f.input :end_time, as: :time, minute_step: 15, min_hour: 7, label: false, default: {year: 2000, month: 1, day: 1, hour: 9, min: 00}, wrapper_html: {id: 'end-time-wrapper'}
  - if @course.is_individual
    %p.field-form-info.blue Attention : 1 créneau = 1 séance de cours (si vous donnez des cours particuliers d'1h tous les lundis de 15h à 19h, entrez 4 créneaux : 15h-16h, 16h-17h,…).
  .input#add-teacher-wrapper
    = f.association :teacher, as: :select, collection: @structure.teachers, label: '<i class="icon-user"></i>&nbsp;Professeur', include_blank: true
    = link_to '#', id: 'add-teacher' do
      &nbsp
      %i.icon-user
      Ajouter un professeur
  .hidden#new-teacher-wrapper.push--top
    = f.input :teacher, label: 'Nom du professeur', input_html: {value: ''}

  = f.association :levels   , as: :select, collection: Level.all, input_html: {style: 'width: 300px;', multiple: true, 'data-behavior' => 'chosen'}, label_method: lambda {|level| t(level.name)}, label: t('.levels'), selected: @course.level_ids.any? ? @course.level_ids : []

  .input
    = f.label :audiences, t('.audiences'), class: 'control-label helper-label', 'data-behavior' => 'popover', 'data-content' => 'Enfant : de 0 à 12 ans. Ado : de 12 à 18 ans. Adulte : > 18 ans. Senior : > 60 ans.'
    = f.association :audiences, as: :select, collection: Audience.all, input_html: {style: 'width: 300px;', multiple: true, 'data-behavior' => 'chosen'}, label_method: lambda {|audience| t(audience.name)}, label: false, selected: @course.audience_ids.any? ? @course.audience_ids : [Audience.adult.id]

  .input
    = f.input :info, as: :string, placeholder: '(optionnel) Plat : gâteau au chocolat', label: '<i class="lbc-icon-info">i</i>&nbsp;Information'
  .text--center.input
    - if @planning.new_record?
      = f.submit 'Ajouter le créneau', class: 'btn btn__success'
    - else
      = f.submit 'Modifier le créneau', class: 'btn btn__success'

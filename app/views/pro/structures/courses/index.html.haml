= side_menu_currently_at 'courses'
.panel
  .panel__header.soft
    .grid
      .grid__item.two-twelfths.v-middle>
        %h4.flush Ajouter un :
      .grid__item.ten-twelfths.v-middle>
        .grid
          .grid__item.v-middle{ class: @structure.gives_individual_courses? ? 'one-third' : 'one-half'}>
            = link_to 'Cours collectif', new_pro_structure_course_path(@structure, type: 'Course::Lesson'), class: 'btn btn--green btn--full fancybox.ajax', data: { behavior: 'modal', width: '750', padding: '0', close_click: 'false' }
          - if @structure.gives_individual_courses?
            .grid__item.v-middle{ class: @structure.gives_individual_courses? ? 'one-third' : 'one-half'}>
              = link_to 'Cours particulier', new_pro_structure_course_path(@structure, type: 'Course::Private'), class: 'btn btn--green btn--full fancybox.ajax', data: { behavior: 'modal', width: '750', padding: '0', close_click: 'false' }
          .grid__item.v-middle{ class: @structure.gives_individual_courses? ? 'one-third' : 'one-half'}>
            = link_to 'Stage / Atelier', new_pro_structure_course_path(@structure, type: 'Course::Training'), class: 'btn btn--green btn--full fancybox.ajax', data: { behavior: 'modal', width: '750', padding: '0', close_click: 'false' }

  .panel__body.soft--ends
    .soft--sides
      %h4 Cours collectifs
      %p{ class: (@courses.lessons.empty? ? '' : 'hidden'), data: { empty: 'lesson'} }
        Vous n'avez pas de cours.
        = link_to 'Ajouter un cours', new_pro_structure_course_path(@structure, type: 'Course::Lesson'), class: 'fancybox.ajax', data: { behavior: 'modal', width: '750', padding: '0', close_click: 'false' }
      #lesson-list.block-list
        - @courses.lessons.each_with_index do |course, index|
          = render partial: 'pro/structures/courses/live_form', locals: { course: course, structure: @structure }

    - if @structure.gives_individual_courses?
      %hr.push--ends

      .soft--sides
        %h4 Cours particulier
        %p{ class: (@courses.privates.empty? ? '' : 'hidden'), data: { empty: 'private'} }
          Vous n'avez pas de cours particulier.
          = link_to 'Ajouter un cours particulier', new_pro_structure_course_path(@structure, type: 'Course::Private'), class: 'fancybox.ajax', data: { behavior: 'modal', width: '750', padding: '0', close_click: 'false' }
        #private-list.block-list
          - @courses.privates.each_with_index do |course, index|
            = render partial: 'pro/structures/courses/live_form', locals: { course: course, structure: @structure }

    %hr.push--ends

    .soft--sides
      %h4 Stages & Ateliers
      %p{ class: (@courses.trainings.empty? ? '' : 'hidden'), data: { empty: 'training'} }
        Vous n'avez pas de stages.
        = link_to 'Ajouter un stage / atelier', new_pro_structure_course_path(@structure, type: 'Course::Training'), class: 'fancybox.ajax', data: { behavior: 'modal', width: '750', padding: '0', close_click: 'false' }
      %ul#training-list.block-list
        - @courses.trainings.each_with_index do |course, index|
          = render partial: 'pro/structures/courses/live_form', locals: { course: course, structure: @structure }

= side_menu_currently_at 'Mes professeurs'

%h3.header-group
  %i.icon-group
  Les professeurs de mon établissement

%br
%h5.form-header-group Ajouter un professeur
= render 'form'

- unless @teachers.empty?
  %hr.push--top
  %h4 Mes professeurs
  %table.table--striped.table--data#dataTable
    %thead
      %tr
        %th.sortDesc
          %span Nom
        %th
          %span Description
        %th
    %tbody
      - @teachers.each do |teacher|
        %tr
          %td= teacher.name.titleize
          %td= teacher.description
          %td.text--right.nowrap
            = link_to edit_pro_structure_teacher_path(@structure, teacher), title: 'Modifier ce professeur', class: 'btn btn--warning' do
              %i.icon-pencil
            &nbsp;
            = link_to pro_structure_teacher_path(@structure, teacher), method: :delete, title: 'Supprimer ce professeur', data: {confirm: 'Êtes-vous sur de supprimer ce professeur ? Cette action sera irreversible.'}, class: 'btn btn--danger' do
              %i.icon-trash

  = content_for :scripts do
    :javascript
      $(function() {
          new TableSorter('dataTable', { columnDataTypes: 'string', cookieName: 'tableSortState__structure_teachers_#{@structure.slug}' });
      });

= side_menu_currently_at 'Mes professeurs'

%h3.header-group Gestion des professeurs

%br
%h4 Ajouter un professeur
= render 'form'

%br
%hr

- if @teachers.empty?
  %p.alert--info Vous n'avez encore aucun professeur de référencé.
- else
  %table.table--striped#dataTable
    %thead
      %tr
        %th.sortDesc
          %span Nom
        %th
          %span Description
        %th
    %tbody
      - @teachers.each do |teacher|
        %tr
          %td= teacher.name
          %td
            - if teacher.description
              - if teacher.description.length < 150
                = teacher.description
              - else
                = "#{teacher.description[0..150]}..."
          %td.text--right
            = link_to edit_structure_teacher_path(@structure, teacher), title: 'Éditer', class: 'btn btn__warning' do
              %i.icon-edit
            = link_to structure_teacher_path(@structure, teacher), method: :delete, title: 'Supprimer', data: {confirm: 'Êtes-vous sur de supprimer ce professeur ? Cette action sera irreversible.'}, class: 'btn btn__danger' do
              %i.icon-trash

  = content_for :scripts do
    :javascript
      document.addEvent('domready', function() {
          new TableSorter('dataTable', { columnDataTypes: 'string' });
      });

.home-page-search
  = form_tag structures_path, method: :get, authenticity_token: false, id: 'header-search', data: { gather: true } do
    .header-search-bar.relative.flexbox.rounded.very-soft
      .flexbox__item.v-middle.search-input-wrapper
        %select.palm-one-whole.input--large.one-whole{ name: 'root_subject_id' }
          %option{value: ''} Toutes disciplines
          - cache ['home_page_dropdown', Subject.stars] do
            - Subject.stars.each do |subject|
              %option{value: subject.slug}= subject.name
          %option{value: 'other'} Autres
      .flexbox__item.v-middle.search-input-wrapper.very-soft.hard--ends.palm-hard
        .input-with-icon
          %input.palm-one-whole.input--large#address-picker.one-whole.soft-half--left{ size: 25, placeholder:'Ville / CP / Adresse', type:'text', autocomplete: 'off', name:'address_name', value: 'Paris', data: {behavior:'address-picker', lng:'#address-lng',lat: '#address-lat', city: '#address-city' } }
          %i.fa.fa-map-marker.delta
        %input#address-lat{type: 'hidden', value: '48.8592', name: 'lat'}
        %input#address-lng{type: 'hidden', value: '2.3417', name: 'lng'}
        %input#address-city{type: 'hidden', value: 'Paris', name: 'address_name'}

      .flexbox__item.v-middle.palm-text--center
        %button.nowrap.btn.btn--blue.btn--full.input--large{type: 'submit', id: 'submit_search_form'}
          %i.fa.fa-search
          Trouver

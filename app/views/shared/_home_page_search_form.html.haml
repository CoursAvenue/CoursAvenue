- params[:week_days]   ||= [] # LeBonCours::Application::WEEK_DAYS
- params[:time_slots]  ||= [] # LeBonCours::Application::TIME_SLOTS
- params[:time_range]  ||= {}

.home-page-search
  = form_tag course_groups_path, method: :get, authenticity_token: false do
    .header-search-bar.header-search-bar--dark
      %div.search-input-wrapper
        %input.search-input{placeholder: 'Danse, Cuisine, ...', type: 'search', name: 'name', value: params[:name]}
      .milli
        .one-whole
          %ul.nav.inline-checkboxes.days-options{data: {behavior: 'checkbox-list'}}
            %li
              = check_box_tag '', '', params[:week_days].empty?, id: "search_week_days_all", data: {value: 'all'}
              = label_tag "search_week_days_all", 'Tous'
            - LeBonCours::Application::WEEK_DAYS.each do |week_day|
              %li
                = check_box_tag 'week_days[]', week_day[:index], params[:week_days].include?(week_day[:index].to_s), id: "search_week_day_#{week_day[:name].downcase}"
                = label_tag "search_week_day_#{week_day[:name].downcase}", week_day[:name]
        %div.flexbox
          %ul.nav.inline-checkboxes.flexbox__item{data: {behavior: 'checkbox-list'}}
            %li.time-slot
              = check_box_tag '', '', params[:time_slots].empty?, id: "search_time_slot_all", data: {value: 'all'}
              = label_tag "search_time_slot_all", 'Tous'
            - LeBonCours::Application::TIME_SLOTS.each do |slot_symbole, slot|
              %li.time-slot
                = check_box_tag 'time_slots[]', slot_symbole, params[:time_slots].include?(slot_symbole.to_s), id: "search_time_slot_#{slot_symbole.to_s}"
                = label_tag "search_time_slot_#{slot_symbole.to_s}", slot[:name].html_safe
          %div.flexbox__item
            Du
            %input.milli.datepicker-input{value: l(Date.today), name: 'start_date', data: {behavior: 'datepicker'}}
            au
            %input.milli.datepicker-input{value: l(Date.today + 6.months), name: 'end_date', data: {behavior: 'datepicker'}}
      %div
        %button.btn.btn__primary{type: 'submit', id: 'submit_search_form'}
          %i.icon-search
          Chercher

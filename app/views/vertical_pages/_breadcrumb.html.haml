%ul.nav.breadcrumb.epsilon.visuallyhidden--palm
  %li{ itemscope: true, itemtype: 'http://data-vocabulary.org/Breadcrumb' }
    = link_to vertical_pages_path, itemprop: 'url' do
      %span{ itemprop: 'title' }
        Guide des disciplines
  - @ancestors.each do |ancestor|
    - next if ancestor.vertical_pages.empty?
    - if ancestor.depth == 0
      %li{ itemscope: true, itemtype: 'http://data-vocabulary.org/Breadcrumb' }
        = link_to root_vertical_page_path(ancestor.vertical_pages.first), itemprop: 'url' do
          %span{ itemprop: 'title' }
            = ancestor.vertical_pages.first.subject_name
    - elsif !@city
      %li{ itemscope: true, itemtype: 'http://data-vocabulary.org/Breadcrumb' }
        = link_to vertical_page_path(ancestor.root, ancestor.vertical_pages.first), itemprop: 'url' do
          %span{ itemprop: 'title' }
            = ancestor.vertical_pages.first.subject_name
  - if @city
    %li{ itemscope: true, itemtype: 'http://data-vocabulary.org/Breadcrumb' }
      = link_to vertical_page_path(@subject.root, @vertical_page), itemprop: 'url' do
        %span{ itemprop: 'title' }
          = @vertical_page.subject_name
    %li{ itemscope: true, itemtype: 'http://data-vocabulary.org/Breadcrumb' }
      %span{ itemprop: 'title' }
        = "#{@vertical_page.subject_name} Ã  #{@city.name}"
  - else
    %li{ itemscope: true, itemtype: 'http://data-vocabulary.org/Breadcrumb' }
      %span{ itemprop: 'title' }
        = @vertical_page.subject_name
